{"info":{"_postman_id":"714f4959-d99a-4c7d-ac93-8fcc749fe4eb","name":"auth","description":"A collection of requests for `/auth` endpoint.","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Register User","id":"33189013-ccd3-401d-a4af-3b5b0d727780","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"full_name\": \"Test User 4\",\r\n    \"email\": \"user4@gmail.com\",\r\n    \"password\": \"123\",\r\n    \"role\": \"api_user\",\r\n    \"contact\": \"+923009999999\",\r\n    \"address\": \"Karachi\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/register","host":["{{base_url}}"],"path":["auth","register"]},"description":"# Register a new user #\n------------\nThese parameters have special rules:\n### Role ###\n`role` can take one of two values:\n - `api_user` for normal user account.\n - `admin` for admin account.\n\n### Contact ###\n - Be a valid **Pakistani** mobile number.\n - Always be started with **+92**.\n\n### Email ###\n - Have a valid email format.\n - Be a real reachable email.\n------------\n## Response ##\n------------\n - `user_id`\n - `token`"},"response":[{"id":"17c1899c-af54-4268-ae34-15b25029130a","name":"Mock Register User","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"full_name\": \"Test User 3\",\r\n    \"email\": \"user3@gmail.com\",\r\n    \"password\": \"123\",\r\n    \"role\": \"api_user\",\r\n    \"contact\": \"+923009999999\",\r\n    \"address\": \"Karachi\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/register","host":["{{base_url}}"],"path":["auth","register"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"229"},{"key":"ETag","value":"W/\"e5-Eip9yCaBYvnqaM1zThW+Pu/417M\""},{"key":"Date","value":"Thu, 11 Mar 2021 12:01:37 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"Registered\"\n    },\n    \"body\": {\n        \"user_id\": 14,\n        \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTQiLCJpYXQiOjE2MTU0NjQwOTcsImV4cCI6MTYxNTU1MDQ5N30.6JCea0qwXwoZ1eemtZCzzVsS2xML0E_EkzdLORGde1s\"\n    }\n}"}]},{"name":"Login User","id":"1d8cd910-6e34-4ba4-82e4-9e96d0f7f53b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\": \"admin@gmail.com\",\r\n    \"password\": \"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/login","host":["{{base_url}}"],"path":["auth","login"]},"description":"# Login a user #\n## Response ##\n------------\n - `user_id`\n - `full_name`\n - `email`\n - `address`\n - `contact`\n - `role`\n - `token`"},"response":[{"id":"5262bbaf-83e6-4c66-b923-5c1ea5283766","name":"Mock Login User","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"admin@gmail.com\",\r\n    \"password\": \"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/login","host":["{{base_url}}"],"path":["auth","login"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"342"},{"key":"ETag","value":"W/\"156-oYiWkirIHS0o2fONkonSKrEm678\""},{"key":"Date","value":"Thu, 11 Mar 2021 11:59:21 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"Authenticated\"\n    },\n    \"body\": {\n        \"user_id\": 1,\n        \"full_name\": \"Test Admin\",\n        \"email\": \"admin@gmail.com\",\n        \"address\": \"Karachi\",\n        \"contact\": \"+923009999999\",\n        \"role\": \"admin\",\n        \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsImlhdCI6MTYxNTQ2Mzk2MCwiZXhwIjoxNjE1NTUwMzYwfQ.JcZyZpeqnRK5N6DOMOTteOf0tTLLEShKCWaCwi_NR3Q\"\n    }\n}"}]},{"name":"Forgot Password","id":"84eeb00e-b337-4d77-8b0e-0705ebaf12d1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"a.rafaysaleem@gmail.com\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/forgot","host":["{{base_url}}"],"path":["auth","password","forgot"]},"description":"# Begin forget password procedure #\n## Response ##\n------------\n- None </ul>\n***NOTE*** : *Sends an OTP code at the provided email.*"},"response":[{"id":"79552d9d-1765-4856-ae40-390d09fab518","name":"Mock Forgot Password","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"a.rafaysaleem@gmail.com\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/forgot","host":["{{base_url}}"],"path":["auth","password","forgot"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"80"},{"key":"ETag","value":"W/\"50-MfAOH4V1epDN95f0nr6fGtDpkGE\""},{"key":"Date","value":"Thu, 11 Mar 2021 12:02:41 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"OTP generated and sent via email\"\n    },\n    \"body\": {}\n}"}]},{"name":"Verify OTP","id":"28e5a339-1476-40dc-8af6-e6efd1a03ccf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"a.rafaysaleem@gmail.com\",\r\n    \"OTP\": \"4151\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/otp","host":["{{base_url}}"],"path":["auth","password","otp"]},"description":"# Verify OTP code #\n------------\nThese parameters have special rules:\n### OTP ###\n - Be **4** digits.\n------------\n## Response ##\n------------\n - None </ul>\n\n***NOTE*** : `message` header indicates success."},"response":[{"id":"7aae3517-7836-4516-aba5-aed302110100","name":"Mock Verify OTP","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"a.rafaysaleem@gmail.com\",\r\n    \"OTP\": \"4151\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/otp","host":["{{base_url}}"],"path":["auth","password","otp"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"72"},{"key":"ETag","value":"W/\"48-j+kxUc3bfCWSLvYzoH2z16ZcT8U\""},{"key":"Date","value":"Thu, 11 Mar 2021 12:04:53 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"OTP verified succesfully\"\n    },\n    \"body\": {}\n}"}]},{"name":"Change Password","id":"a54c2f94-54e0-4e8f-ba61-04ad8bf4139f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"user3@gmail.com\",\r\n    \"password\": \"256\",\r\n    \"new_password\":\"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/change","host":["{{base_url}}"],"path":["auth","password","change"]},"description":"# Change password #\n## Response ##\n------------\n - None</ul>\n\n***Note*** : `message` header indicates status."},"response":[{"id":"1fe91f10-2b56-476d-b111-2c225a019cbf","name":"Mock Change Password","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"user3@gmail.com\",\r\n    \"password\": \"256\",\r\n    \"new_password\":\"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/change","host":["{{base_url}}"],"path":["auth","password","change"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"117"},{"key":"ETag","value":"W/\"75-0MmqaaL9Siz3Auh9VtIJyPuYRpw\""},{"key":"Date","value":"Thu, 11 Mar 2021 12:06:08 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"Password changed successfully\"\n    },\n    \"body\": \"Rows matched: 1  Changed: 1  Warnings: 0\"\n}"}]},{"name":"Reset Password","id":"2b9da575-9aa6-4854-ba77-9e0cf1f7358a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"a.rafaysaleem@gmail.com\",\r\n    \"password\": \"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/reset","host":["{{base_url}}"],"path":["auth","password","reset"]},"description":"# Change password #\n## Response ##\n------------\n - None</ul>\n\n***Note*** : `message` header indicates status."},"response":[{"id":"92981e7b-9986-42f6-877e-a228c6bbd9a3","name":"Mock Reset Password","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"a.rafaysaleem@gmail.com\",\r\n    \"password\": \"256\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/password/reset","host":["{{base_url}}"],"path":["auth","password","reset"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"117"},{"key":"ETag","value":"W/\"75-0MmqaaL9Siz3Auh9VtIJyPuYRpw\""},{"key":"Date","value":"Thu, 11 Mar 2021 12:07:02 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"Password changed successfully\"\n    },\n    \"body\": \"Rows matched: 1  Changed: 1  Warnings: 0\"\n}"}]},{"name":"Refresh Token","id":"5fcf789e-7daf-437c-ac4d-2bb9ebff9379","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"user@gmail.com\",\r\n    \"password\":\"123\",\r\n    \"oldToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMiIsImlhdCI6MTYxNjQwNzYxNCwiZXhwIjoxNjE2NDk0MDE0fQ.J62qe356zu-1V9vjFChpUiho5pkz4yYI3iG0Nl8o5YY\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/token","host":["{{base_url}}"],"path":["auth","token"]},"description":"# Change password #\n------------\nThe following parameters have special rules:\n### OldToken ###\n - Have a valid token format.\n - Be a valid previously generated token.\n------------\n## Response ##\n------------\n - `token` The new token."},"response":[{"id":"2cdaf3cb-67ee-4e79-b35f-95ccf7d554c3","name":"Mock Refresh Token","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\":\"user@gmail.com\",\r\n    \"password\":\"123\",\r\n    \"oldToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMiIsImlhdCI6MTYxNjQwNzYxNCwiZXhwIjoxNjE2NDk0MDE0fQ.J62qe356zu-1V9vjFChpUiho5pkz4yYI3iG0Nl8o5YY\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{base_url}}/auth/token","host":["{{base_url}}"],"path":["auth","token"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"214"},{"key":"ETag","value":"W/\"d6-y3JeatWPOmvyrVdTORhJO5lhu74\""},{"key":"Date","value":"Thu, 15 Apr 2021 14:14:05 GMT"},{"key":"Connection","value":"keep-alive"},{"key":"Keep-Alive","value":"timeout=5"}],"cookie":[],"responseTime":null,"body":"{\n    \"headers\": {\n        \"success\": 1,\n        \"message\": \"Refreshed\"\n    },\n    \"body\": {\n        \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMiIsImlhdCI6MTYxODQ5NjA0NSwiZXhwIjoxNjE4NTgyNDQ1fQ.wxXudEFbnmGMddxx2xPpVUVHuy2iC8kuhKkmXIqibf0\"\n    }\n}"}]}],"event":[{"listen":"prerequest","script":{"id":"6bb6796b-69fe-44d5-b6fb-8e36737f5db0","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"9bf36764-d2a0-444e-be4d-35067b05f6e1","type":"text/javascript","exec":[""]}}]}